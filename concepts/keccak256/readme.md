# Keccak256

**Author:** [Roman Yarlykov](https://github.com/rlkvrv) üßê

Keccak256 is a cryptographic hash algorithm. It is a member of the SHA-3 family of hash functions and was selected as the standard hash function by NIST in 2012. While the algorithm's details are quite complex and involve cryptography, understanding a few key concepts about hash functions and the algorithm itself is sufficient.

## What is a Hash Function?

A hash function takes an arbitrary set of data as input (message) and produces a fixed-length hash value as output (digest). The length of the message can vary, but the length of the digest is fixed.

A hash function is not reversible, meaning it is impossible to calculate the input data from the hash value. This means that a hash function cannot be used for data encryption, but it can be used to create digital signatures that can be verified to ensure the data has not been tampered with.

Hash functions are components in many important security applications, including:
1. Generating and verifying digital signatures.
2. Key derivation (e.g., used to create HD wallets, where child keys are derived from a master key).
3. Generating pseudo-random bits (a process of generating a sequence of bits that appear random but are generated by a deterministic algorithm; without a key, it is impossible to guess this sequence).

## Why Keccak256?

The length of the digest (output) of a cryptographic hash function can vary, such as 160, 224, 256, 384, and 512 bits. The longer the digest, the more information it can contain, but the longer it takes to compute. Therefore, 256-bit digests are commonly used because they are long enough to contain sufficient information and can be computed relatively quickly.

Keccak256 is considered a highly secure hash algorithm that is resistant to various types of attacks, such as pre-image attacks, collision attacks, and length extension attacks. It is also one of the most efficient hash algorithms and is supported by a wide range of libraries. For these reasons, it was chosen for use in blockchains like Ethereum and Bitcoin to perform various tasks.

The functions in the Keccak family are based on the sponge construction. In the context of cryptography, a sponge construction is a mode of operation based on the permutation (or transformation) of fixed-length data, as well as a filling rule that constructs a function mapping a variable-length input to a variable-length output. More details about the sponge construction can be found [here](https://keccak.team/sponge_duplex.html).

## Keccak256 in Solidity

`keccak256` is also a built-in function in Solidity. It takes any number of input parameters and converts them into a unique 32-byte hash (32 bytes is equivalent to 256 bits).

You can try running this code in [Remix](https://remix.ethereum.org/#lang=en&optimize=false&runs=200&evmVersion=null&version=soljson-v0.8.18+commit.87f61d96.js). Enter a string, a number, and an Ethereum address into the function to obtain the hash `bytes32` as output. Then modify one of the parameters and regenerate the hash output‚Äîyou will notice that the hash has changed. If you input the original parameters again, you will get the original hash.

```solidity
pragma solidity 0.8.17;

contract Hash {
    function hash(string memory _text, uint256 _number, address _address) public pure returns (bytes32) {
        return keccak256(abi.encodePacked(_text, _number, _address));
    }
}
```
In smart contracts, the `keccak256` function is used for various purposes, such as working with signatures, creating hash tables (mappings), computing function selectors, working with Merkle trees, and more.

The `keccak256` function can also be used for specific logic in smart contracts. For example, in a commit-reveal scheme, a user first submits a transaction with hashed data and later submits the actual data, which is then verified against the hash.

## Links

1. [SHA-3 Standard](https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.202.pdf)
2. [Keccak](https://keccak.team/keccak_specs_summary.html)
3. [Ethereum 201: HD Wallets](https://wolovim.medium.com/ethereum-201-hd-wallets-11d0c93c87f7)
4. [Hashing Functions In Solidity Using Keccak256](https://medium.com/0xcode/hashing-functions-in-solidity-using-keccak256-70779ea55bb0)
5. [Hashing with Keccak256](https://solidity-by-example.org/hashing/)
6. [Keccak-256 Online Tool](https://emn178.github.io/online-tools/keccak_256.html)
